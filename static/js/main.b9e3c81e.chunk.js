(this.webpackJsonplab2project=this.webpackJsonplab2project||[]).push([[0],{40:function(e,t,n){},63:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var i=n(8),s=n.n(i),a=n(37),o=n.n(a),c=(n(63),n(5)),r=n(30),l=n(15),d=(n(40),n(19)),u=n(7);var b=function(e){var t=e.completed,n=Object(i.useState)(!0),s=Object(l.a)(n,2),a=s[0],o=s[1],c=Object(i.useState)(e.task),r=Object(l.a)(c,2),d=r[0],b=r[1];function j(){o(!1),e.onTaskCompleted(e.id,"task",d),setTimeout((function(){o(!0)}),50)}return Object(u.jsxs)("li",{children:[Object(u.jsx)("span",{className:"taskItem",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{"aria-label":t?"Click this Checkbox to mark this task as not completed":"Click this Checkbox to mark this task as completed",type:"checkbox",onChange:function(){e.onTaskCompleted(e.id,"completed",!t),e.displayButtons(!t)},checked:!1,class:t?"checked":"unchecked"}),Object(u.jsx)("span",{"aria-label":"Start typing to edit the name of the corresponding task.",suppressContentEditableWarning:!0,contentEditable:a,onBlur:function(){return j()},onKeyDown:function(e){return"Enter"===e.code?j():null},class:t?"checked-text":"unchecked-text",onInput:function(e){return b(e.currentTarget.textContent)},children:e.task})]})}),Object(u.jsxs)("select",{"aria-label":"Set Task Priority",className:"taskPriority",onChange:function(t){return e.onTaskCompleted(e.id,"priority",parseInt(t.target.value))},value:e.priority,children:[Object(u.jsx)("option",{"aria-label":"Set Task Priority to 1",children:"1"}),Object(u.jsx)("option",{"aria-label":"Set Task Priority to 2",children:"2"}),Object(u.jsx)("option",{"aria-label":"Set Task Priority to 3",children:"3"})]})]},e.key)},j=n(27),h=n.n(j),O=n(44),m=n(28),p=n(36),g=n(58);m.a.initializeApp({apiKey:"AIzaSyAMsDbORWI7OtcnI4VjQnY6xEE6XGjZPf0",authDomain:"to-do-list-78c30.firebaseapp.com",projectId:"to-do-list-78c30",storageBucket:"to-do-list-78c30.appspot.com",messagingSenderId:"466185835646",appId:"1:466185835646:web:dbe8a4413a6cad9f3f742f",measurementId:"G-3Q5LDPJYK6"});m.a.firestore();var x=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),s=n[0],a=n[1],o=Object(i.useState)(1),c=Object(l.a)(o,2),j=c[0],p=c[1],x=Object(i.useState)(!0),f=Object(l.a)(x,2),y=f[0],k=f[1],C=Object(i.useState)(!1),w=Object(l.a)(C,2),v=w[0],S=w[1],N=function(e){var t=Object(i.useState)(e),n=Object(l.a)(t,2),s=n[0],a=n[1],o=Object(i.useRef)(null),c=function(e){o.current&&!o.current.contains(e.target)&&a(!1)};return Object(i.useEffect)((function(){return document.addEventListener("click",c,!0),function(){document.removeEventListener("click",c,!0)}})),{ref:o,isComponentVisible:s,setIsComponentVisible:a}}(!0);function L(){S(!v)}N.ref,N.isComponentVisible,console.log("listSharedWith",e.listSharedWith.sharedWith);var I=[];try{I=e.listSharedWith.sharedWith.map((function(e){return{value:e,label:e}}))}catch(W){}function P(e){var t=Object(i.useState)(I),n=Object(l.a)(t,2),s=n[0],a=n[1];return Object(u.jsx)("div",{className:"backdrop",children:Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsx)("h4",{children:"Share With: "}),Object(u.jsx)(g.a,{class:"modal-content",id:"share-dropdown",defaultValue:s,isMulti:!0,blurInputOnSelect:!1,options:B,onChange:function(e){return a(e)}}),Object(u.jsxs)("div",{className:"alert-buttons",children:[Object(u.jsx)("button",{className:"show-buttons pop-up-buttons",type:"button",onClick:e.onClose,children:"Cancel"}),Object(u.jsx)("button",{onClick:function(){return e.onDone(s)},className:"show-buttons pop-up-buttons",id:"pop-up-done",children:"Done"})]})]})})}function T(){if(null!==s&&""!==s){var t={id:Object(O.a)(),task:s,completed:!1,priority:j,created:m.a.database.ServerValue.TIMESTAMP};e.onNewItemAdded(t),a("")}}console.log("listSharedWith",I);var E=0,D=function(e){var t=e.filter((function(e){return e.completed}));E=t.length;var n=e.filter((function(e){return!e.completed}));return[].concat(Object(d.a)(n),Object(d.a)(t))}(e.list);console.log("THis is the updated list",D);var B=e.usersList.filter((function(t){return t!=e.email})).map((function(e){return{value:e,label:e}}));return console.log("Email List",B),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("span",{className:"headerClass",id:"header-one",children:[Object(u.jsx)("h1",{className:"top-title",children:e.listName}),v&&Object(u.jsx)(P,{onClose:L,onDone:function(t){console.log("list to share",t),e.shareWith(t.map((function(e){return e.value})),e.listId),L()}})]}),Object(u.jsx)("span",{className:"headerClass",id:"header-two",children:Object(u.jsxs)("span",{id:"sort-items",children:[Object(u.jsx)("button",{"aria-label":"Go back to the List of all Lists",id:"back-button",className:"show-buttons",onClick:e.goBack,children:"\u2190"}),Object(u.jsxs)("select",{"aria-label":"Click this button to sort list items by a certain criterion",id:"sort-button",value:{task:"Name",priority:"Priority",created:"Date Created","Sort By:":"Sort By:"}[e.filterValue],class:0!=D.length?"show-buttons":"grey-buttons",onChange:function(t){e.filterBy(t.target.value.toLowerCase())},children:[Object(u.jsx)("option",{disabled:!0,children:"Sort By:"}),Object(u.jsx)("option",{"aria-label":"Sort By Creation Date",children:"Date Created"}),Object(u.jsx)("option",{"aria-label":"Sort By Task Priority",children:"Priority"}),Object(u.jsx)("option",{"aria-label":"Sort Lexicographically by Task Name",children:"Name"})]}),e.isSharedWith?null:Object(u.jsx)("button",{id:"share-button",className:"show-buttons",onClick:L,children:"Share List"}),Object(u.jsx)("button",{onClick:e.logOut,className:"show-buttons log-out-buttons",children:"Log out"})]})}),Object(u.jsxs)("div",{id:"container",children:[Object(u.jsxs)("div",{id:"enter-item-container",className:"enter-item",children:[Object(u.jsx)("input",{"aria-label":"Enter the name of your new Task",type:"text",value:s,id:"input-text",onKeyDown:function(e){return"Enter"===e.code?T():null},onChange:function(e){return a(e.target.value)},placeholder:"Add a task..."}),Object(u.jsxs)("select",{"aria-label":"Set Task Priority",id:"priority-button",onChange:function(e){return p(parseInt(e.target.value))},defaultValue:"Priority:",class:""!==s&&null!==s?"show-buttons":"grey-buttons",children:[Object(u.jsx)("option",{selected:!0,disabled:!0,children:"Priority:"}),Object(u.jsx)("option",{"aria-label":"Set Task Priority to 1",children:"1"}),Object(u.jsx)("option",{"aria-label":"Set Task Priority to 2",children:"2"}),Object(u.jsx)("option",{"aria-label":"Set Task Priority to 3",children:"3"})]}),Object(u.jsx)("button",{"aria-label":"Click this button to add your task to the list.",className:""!==s&&null!==s?"show-buttons":"grey-buttons",onClick:T,id:"enter-button",children:"+"})]}),Object(u.jsxs)("div",{class:"ListItems",children:[console.log(e.usersList),Object(u.jsx)("ul",{id:"list",children:y?D.map((function(t){return Object(u.jsx)(b,Object(r.a)({onTaskCompleted:function(t,n,i){return e.onContentChange(t,n,i)?E--:null},displayButtons:function(e){e?E++:E--}},t),t.id)})):D.filter((function(e){return!1===e.completed})).map((function(t){return Object(u.jsx)(b,Object(r.a)({onTaskCompleted:function(t,n,i){return e.onContentChange(t,n,i)?E--:null},displayButtons:function(e){return e?E++:E--}},t),t.id)}))})]}),Object(u.jsx)("button",{"aria-label":y?"Click this button to hide completed tasks":"Click this button to show completed tasks",class:E>0?"show-buttons":"grey-buttons",id:"hide-completed-button",onClick:function(){return k(!y)},children:y?"Hide Completed":"Show Completed"}),Object(u.jsx)("button",{"aria-label":"Click this button to Delete Completed Tasks",class:E>0&&y?"show-buttons":"grey-buttons",id:"delete-button",onClick:function(){h()({title:"Are you sure?",text:"Once deleted, you will not be able to recover completed tasks!",icon:"warning",buttons:["No","Yes"],dangerMode:!0}).then((function(t){if(t){var n=D.filter((function(e){return!0===e.completed})).map((function(e){return e.id}));e.onDeleteItem(n),E=0}}))},children:"Delete Completed"})]})]})};var f=function(e){var t=Object(i.useState)(!0),n=Object(l.a)(t,2),s=n[0],a=n[1],o=Object(i.useState)(e.name),c=Object(l.a)(o,2),r=c[0],d=c[1];function b(){a(!1),e.onListChange(e.id,"name",r),setTimeout((function(){a(!0)}),50)}return Object(u.jsxs)("li",{className:"listItem",children:[Object(u.jsx)("span",{className:"taskItem",children:Object(u.jsx)("label",{"aria-label":"Start typing to edit the name of the corresponding List.",suppressContentEditableWarning:!0,contentEditable:s,onBlur:function(){return b()},onKeyDown:function(e){return"Enter"===e.code?b():null},onInput:function(e){return d(e.currentTarget.textContent)},children:e.name})}),Object(u.jsx)("button",{"aria-label":"Click this button to see the corresponding List.",className:"show-buttons",id:"go-button",onClick:function(){return e.onGo(e.id,e.name)},children:"Go"}),e.shared?Object(u.jsx)("button",{"aria-label":"Click this button to remove the corresponding shared List.",className:"show-buttons",id:"delete-list-button",onClick:function(){return e.onUnshare(e.id)},children:"\u2716"}):Object(u.jsx)("button",{"aria-label":"Click this button to delete the corresponding List.",className:"show-buttons",id:"delete-list-button",onClick:function(){return e.onDelete(e.id)},children:"\ud83d\uddd1"})]},e.id)};var y=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),s=n[0],a=n[1];function o(){if(null!==s&&""!==s){var t={id:Object(O.a)(),name:s,ownerEmail:e.userEmail,sharedWith:[]};e.onNewItemAdded(t),a("")}}function c(t){h()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this List!",icon:"warning",buttons:["No","Yes"],dangerMode:!0}).then((function(n){n&&e.onDeleteItem([t])}))}function d(t){h()({title:"Are you sure?",text:"Once Unshared, you will not be able to view or edit this List unless the owner shares it with you again!",icon:"warning",buttons:["No","Yes"],dangerMode:!0}).then((function(n){n&&e.onUnshare(t)}))}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"list-title-container",children:[Object(u.jsx)("label",{id:"list-title",className:"top-title",children:"Lists"}),Object(u.jsx)("button",{id:"list-log-out",className:"show-buttons log-out-buttons",onClick:e.logOut,children:"Log out"})]}),Object(u.jsxs)("div",{id:"list-container",children:[Object(u.jsxs)("div",{className:"enter-item",id:"list-enter-item",children:[Object(u.jsx)("input",{"aria-label":"Enter the name of your new List",type:"text",maxLength:"28",id:"list-input-text",value:s,onKeyDown:function(e){return"Enter"===e.code?o():null},onChange:function(e){return a(e.target.value)},placeholder:"Create a list..."}),Object(u.jsx)("button",{"aria-label":"Click this button to add your new List to the List of Lists.",className:""!==s&&null!==s?"show-buttons":"grey-buttons",onClick:o,id:"list-enter-button",children:"+"}),Object(u.jsx)("button",{"aria-label":"Click this button to delete all the Lists that you have.",className:e.taskList.length>0?"show-buttons":"grey-buttons",id:"delete-all-lists",onClick:function(){h()({title:"Delete All Lists?",text:"Once deleted, you will not be able to recover these Lists!",icon:"warning",buttons:["No","Yes"],dangerMode:!0}).then((function(t){t&&e.taskList.map((function(t){return e.onDeleteItem([t.id])}))}))},children:"\ud83d\uddd1"})]}),Object(u.jsxs)("div",{class:"ListItems",id:"List-of-list-items",children:[e.taskList.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"Your Lists"}),Object(u.jsx)("ul",{id:"list",children:e.taskList.map((function(t){return Object(u.jsx)(f,Object(r.a)({shared:!1,onGo:e.displayList,onListChange:e.onContentChange,onDelete:c},t))}))})]}):null,e.sharedList.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"Shared Lists"}),Object(u.jsx)("ul",{id:"list",children:e.sharedList.map((function(t){return Object(u.jsx)(f,Object(r.a)({shared:!0,onGo:e.displayList,onListChange:e.onContentChange,onUnshare:d},t))}))})]}):null]})]})]})},k=n.p+"static/media/loading.a1a99674.gif";var C=function(e){return e.loadLogin?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)("div",{id:"sign-up-container",children:[Object(u.jsx)("h2",{children:"Welcome to our To-Do List"}),Object(u.jsx)("h3",{id:"gif",align:"center",children:Object(u.jsx)("img",{align:"center",src:k,alt:"Loading"})})]})]}):""===e.loadingType?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"root",children:[Object(u.jsx)("h1",{className:"top-title",children:"Lists"}),Object(u.jsxs)("div",{id:"list-container",children:[Object(u.jsxs)("div",{className:"enter-item",id:"list-enter-item",children:[Object(u.jsx)("input",{type:"text",maxLength:"28",id:"list-input-text",placeholder:"Create a list...",value:""}),Object(u.jsx)("button",{className:"grey-buttons",id:"list-enter-button",children:"+"}),Object(u.jsx)("button",{className:"grey-buttons",id:"delete-all-lists",children:"\ud83d\uddd1"})]}),Object(u.jsxs)("div",{className:"ListItems",id:"List-of-list-items",children:[Object(u.jsx)("h2",{align:"center",children:"Loading...."}),Object(u.jsx)("h3",{align:"center",children:Object(u.jsx)("img",{align:"center",src:k,alt:"Loading"})})]})]})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{id:"root",children:[Object(u.jsx)("span",{className:"headerClass",id:"header-one",children:Object(u.jsx)("h1",{className:"top-title",children:e.listName})}),Object(u.jsx)("span",{className:"headerClass",id:"header-two",children:Object(u.jsxs)("span",{id:"sort-items",children:[Object(u.jsx)("button",{id:"back-button",className:"show-buttons",children:"\u2190"}),Object(u.jsxs)("select",{id:"sort-button",className:"grey-buttons",children:[Object(u.jsx)("option",{disabled:"",selected:"",children:"Sort By:"}),Object(u.jsx)("option",{children:"Priority"}),Object(u.jsx)("option",{children:"Name"}),Object(u.jsx)("option",{children:"Date Created"})]})]})}),Object(u.jsxs)("div",{id:"container",children:[Object(u.jsxs)("div",{id:"enter-item-container",className:"enter-item",children:[Object(u.jsx)("input",{type:"text",id:"input-text",placeholder:"Add a task...",value:""}),Object(u.jsxs)("select",{id:"priority-button",className:"grey-buttons",children:[Object(u.jsx)("option",{disabled:"",selected:"",children:"Priority:"}),Object(u.jsx)("option",{children:"1"}),Object(u.jsx)("option",{children:"2"}),Object(u.jsx)("option",{children:"3"})]}),Object(u.jsx)("button",{className:"grey-buttons",id:"enter-button",children:"+"})]}),Object(u.jsxs)("div",{className:"ListItems",children:[Object(u.jsx)("h2",{align:"center",children:"Loading...."}),Object(u.jsx)("h3",{align:"center",children:Object(u.jsx)("img",{align:"center",src:k,alt:"Loading"})})]}),Object(u.jsx)("button",{className:"grey-buttons",id:"hide-completed-button",children:"Hide Completed"}),Object(u.jsx)("button",{className:"grey-buttons",id:"delete-button",children:"Delete Completed"})]})]})})},w=n(46),v=n(47),S=n(35),N=Object(u.jsx)(w.a,{icon:v.a});var L=function(e){var t,n,s=Object(S.b)(e.auth),a=Object(l.a)(s,4),o=a[0],r=a[1],d=a[2],b=a[3],j=Object(i.useState)(""),O=Object(l.a)(j,2),m=O[0],p=O[1],g=Object(i.useState)(""),x=Object(l.a)(g,2),f=x[0],y=x[1],k=Object(i.useState)(!0),w=Object(l.a)(k,2),v=w[0],L=w[1],I=Object(i.useState)(!1),P=Object(l.a)(I,2),T=P[0],E=P[1],D=Object(i.useState)(""),B=Object(l.a)(D,2),W=B[0],A=B[1],F=Object(i.useState)(!1),M=Object(l.a)(F,2),U=M[0],V=M[1];return r?Object(u.jsx)("div",{children:"Unexpectedly signed in already"}):Object(u.jsx)("div",{className:"backdrop",children:Object(u.jsx)("div",{className:"modal modal-sign-in",children:Object(u.jsxs)("form",{id:"sign-up-pop-container",children:[Object(u.jsx)("h4",{id:"sign-in-title",children:"Sign up with a valid email and password!"}),Object(u.jsx)("label",{id:"sign-in-email-label",children:"User Email:"}),Object(u.jsx)("input",{"aria-label":"Enter your email that you wish to sign in with",className:"input-email log-in-input",id:"sign-in-email",name:"username",type:"text",placeholder:"Email...",required:"true",onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{id:"sign-in-password-label",children:"Password:"}),Object(u.jsx)("input",(t={"aria-label":"Enter your password",id:"sign-in-password",className:"input-password log-in-input",placeholder:"Password",name:"password"},Object(c.a)(t,"placeholder","Password..."),Object(c.a)(t,"type",T?"text":"password"),Object(c.a)(t,"required","true"),Object(c.a)(t,"onChange",(function(e){return y(e.target.value)})),t)),Object(u.jsx)("i",{"aria-label":"Click here to show password",id:"sign-in-eye",onClick:function(){E(!T)},children:N}),Object(u.jsx)("label",{id:"confirm-password-label",children:"Confirm Password:"}),Object(u.jsx)("input",(n={"aria-label":"Confirm your password by entering it here again",id:"confirm-password",className:"input-password log-in-input",placeholder:"Password",name:"password"},Object(c.a)(n,"placeholder","Password..."),Object(c.a)(n,"type",U?"text":"password"),Object(c.a)(n,"required","true"),Object(c.a)(n,"onChange",(function(e){return A(e.target.value)})),n)),Object(u.jsx)("i",{"aria-label":"Click here to show password",id:"confirm-eye",onClick:function(){V(!U)},children:N}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{"aria-label":"Click this button to Sign up with your newly entered username and password",id:"sign-up-button",className:"sign-buttons show-buttons",onClick:function(){if(f!==W?h()({title:"Passwords do not match!",text:"Make sure that your Passwords Match!",icon:"warning",showConfirmButton:!0,dangerMode:!0}):b&&v?(h()({title:"Error!",text:b.message,icon:"warning",showConfirmButton:!0,dangerMode:!0}),L(!1)):o(m,f),d)return Object(u.jsx)(C,{loadingType:"",listName:""})},children:"Sign Up"}),Object(u.jsx)("button",{"aria-label":"Click this button to cancel changes and go back to the log in screen",class:"show-buttons sign-buttons",id:"sign-up-cancel",onClick:e.onClose,children:"Cancel"})]})})})},I=n(57),P=n.n(I),T=(n(56),Object(u.jsx)(w.a,{icon:v.a}));var E=function(e){var t,n=Object(i.useState)(""),s=Object(l.a)(n,2),a=s[0],o=s[1],r=Object(i.useState)(""),d=Object(l.a)(r,2),b=d[0],j=d[1],O=Object(i.useState)(!1),m=Object(l.a)(O,2),p=m[0],g=m[1],x=Object(i.useState)(!1),f=Object(l.a)(x,2),y=f[0],k=f[1],C=Object(S.c)(e.auth),w=Object(l.a)(C,4),v=w[0],N=w[1],L=w[2],I=w[3];return I&&p&&(h()({title:"Error!",text:I.message,icon:"warning",showConfirmButton:!0,dangerMode:!0}),g(!1)),N?Object(u.jsx)("div",{children:"Unexpectedly signed in already"}):L?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)("div",{id:"sign-in-container",children:[Object(u.jsxs)("form",{id:"manual-sign-in-container",children:[Object(u.jsx)("h4",{id:"sign-in-title",children:"Enter your Email and Password to log in!"}),Object(u.jsx)("label",{id:"sign-in-email-label",children:"User Email:"}),Object(u.jsx)("input",{"aria-label":"Enter your user email",className:"log-in-input",id:"sign-in-email",name:"username",type:"text",placeholder:"Email...",required:"true",onChange:function(e){return o(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{id:"sign-in-pasword-label",children:"Password:"}),Object(u.jsx)("input",(t={"aria-label":"Enter your password",className:"log-in-input",id:"sign-in-password",placeholder:"Password",name:"password"},Object(c.a)(t,"placeholder","Password..."),Object(c.a)(t,"type",y?"text":"password"),Object(c.a)(t,"required","true"),Object(c.a)(t,"onChange",(function(e){return j(e.target.value)})),t)),Object(u.jsx)("i",{"aria-label":"Click here to show password",id:"sign-in-eye",onClick:function(){k(!y)},children:T}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{"aria-label":"Click here to Sign in!",id:"sign-in-button",type:"submit",onClick:function(){g(!0),v(a,b),console.log(a,b)},className:"show-buttons",children:"Sign In"})]}),Object(u.jsx)("span",{id:"google-container",children:Object(u.jsx)(P.a,{"aria-label":"Click here to sign in with google",id:"google-sign-in",style:{background:"revert",color:"black"},onClick:function(){return e.auth.signInWithPopup(e.googleProvider)}})})]})};m.a.initializeApp({apiKey:"AIzaSyAMsDbORWI7OtcnI4VjQnY6xEE6XGjZPf0",authDomain:"to-do-list-78c30.firebaseapp.com",projectId:"to-do-list-78c30",storageBucket:"to-do-list-78c30.appspot.com",messagingSenderId:"466185835646",appId:"1:466185835646:web:dbe8a4413a6cad9f3f742f",measurementId:"G-3Q5LDPJYK6"});var D=m.a.firestore(),B="Lists",W="Users",A=m.a.auth(),F=new m.a.auth.GoogleAuthProvider;function M(e){var t=Object(i.useState)("Sort By:"),n=Object(l.a)(t,2),s=n[0],a=n[1],o=Object(i.useState)(""),r=Object(l.a)(o,2),d=r[0],b=r[1],j=Object(i.useState)(""),h=Object(l.a)(j,2),O=h[0],g=h[1],f="",k="",w=D.collection(B).where("sharedWith","array-contains",e.user.email),v=D.collection(B);function S(){A.signOut()}D.collection(W).doc(e.user.uid).set({email:e.user.email}),console.log("Successfully Added!"),""===d?(f=D.collection(B).where("ownerEmail","==",e.user.email),v=D.collection(B)):("Sort By:"===s?(f=D.collection(B).doc(d).collection("Tasks"),v=f):(f=D.collection(B).doc(d).collection("Tasks").orderBy(s),v=D.collection(B).doc(d).collection("Tasks")),k=D.collection(B).doc(d));var N=Object(p.a)(f),L=Object(l.a)(N,3),I=L[0],P=L[1],T=(L[2],Object(p.a)(w)),E=Object(l.a)(T,3),F=E[0],M=(E[1],E[2],D.collection(W)),U=Object(p.a)(M),V=Object(l.a)(U,3),G=V[0],Y=(V[1],V[2],Object(p.a)(k)),K=Object(l.a)(Y,3),q=K[0],H=K[1],z=K[2];if(P)return Object(u.jsx)(C,{loadLogin:!1,loadingType:d,listName:O});var J=null!=I?I.docs.map((function(e){return e.data()})):[],Q=[],R=!1;try{""==d||H||z||(R=(Q=q.data()).sharedWith.includes(e.user.email))}catch(te){}var X=null!=F?F.docs.map((function(e){return e.data()})):[],Z=null!=G?G.docs.map((function(e){return e.data().email})):[];if(""===d)return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(y,{onUnshare:function(t){D.collection(B).doc(t).update({sharedWith:m.a.firestore.FieldValue.arrayRemove(e.user.email)})},logOut:S,userEmail:e.user.email,taskList:J,sharedList:X,displayList:function(e,t){b(e),g(t)},onContentChange:$,onNewItemAdded:_,onDeleteItem:ee})});function $(e,t,n){""===d?"name"!==t||""!=n&&null!=n?v.doc(e).update(Object(c.a)({},t,n)):ee([e]):"task"!==t||""!=n&&null!=n?(v.doc(e).update(Object(c.a)({},t,n)),a(s)):ee([e])}function _(e){v.doc(e.id).set(e)}function ee(e){""===d?(v.doc(e[0]).collection("Tasks").get().then((function(t){return t.docs.map((function(t){return v.doc(e[0]).collection("Tasks").doc(t.id).delete()}))})),v.doc(e[0]).delete()):e.map((function(e){return v.doc(e).delete()}))}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(x,{logOut:S,shareWith:function(e,t){D.collection(B).doc(t).update(Object(c.a)({},"sharedWith",e))},email:e.user.email,usersList:Z,listId:d,listName:O,list:J,listSharedWith:Q,isSharedWith:R,goBack:function(){return b("")},onContentChange:$,onNewItemAdded:_,onDeleteItem:ee,filterBy:function(e){"name"===e&&(e="task"),"date created"===e&&(e="created"),a(e)},filterValue:s})})}var U=function(e){var t=Object(S.a)(A),n=Object(l.a)(t,3),s=n[0],a=n[1],o=(n[2],Object(i.useState)(!1)),c=Object(l.a)(o,2),d=c[0],b=c[1];function j(){b(!d)}return a?Object(u.jsx)(C,{loadLogin:!0,loadingType:"",listName:""}):s?(console.log("Hello",A.uid),Object(u.jsx)(M,Object(r.a)({selectedList:"",user:s},e))):Object(u.jsxs)(u.Fragment,{children:[d&&Object(u.jsx)(L,{onClose:j,auth:A}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{id:"sign-up-container",children:[Object(u.jsx)("h2",{children:"Welcome to our To-Do List"}),Object(u.jsx)(E,{auth:A,googleProvider:F}),Object(u.jsx)("button",{"aria-label":"Click this button to Sign up!",className:"show-buttons",id:"click-to-signup",onClick:j,children:"New Here? Sign Up!"})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root")),V()}},[[88,1,2]]]);
//# sourceMappingURL=main.b9e3c81e.chunk.js.map